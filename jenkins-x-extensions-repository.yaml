version: 15
extensions:
- name: helloWorld
  version: 0.0.5
  description: Says Hello, World!
  # Post is the default
  when: 
    - post
  # Always is the default
  given: always
  # bash is the default, 
  type: bash
  script: |
    echo "Hello, World!"
- name: spotbugsMaven
  version: 0.0.9
  description: Runs SpotBugs against a Maven project and attaches the output to the build
  parameters:
  - name: spotbugsVersion
    description: The version of the SpotBugs Maven Plugin to use
    defaultValue: 3.1.6
  script: |
    mvn compile com.github.spotbugs:spotbugs-maven-plugin:${SPOTBUGS_VERSION}:spotbugs
- name: spotbugsPublish
  version: 0.0.3
  description: Publishes SpotBugs reports generated by the SpotBugs Maven Plugin
  parameters:
  - name: spotbugsProvider
    description: The provider to use to publish SpotBugs reports
  script: |
    jx step collect --provider=${SPOTBUGS_PROVIDER} --pattern=target/spotbugsXml.xml --classifier=spotbugs
- name: jacocoMaven
  version: 0.0.1
  description: Runs Jacoco against a Maven project and attaches the output to the build
  parameters:
  - name: jacocoVersion
    description: The version of the Jacoco Maven Plugin to use
    defaultValue: 0.8.2
  script: |
    mvn org.jacoco:jacoco-maven-plugin:${JACOCO_VERSION}:prepare-agent test org.jacoco:jacoco-maven-plugin:${JACOCO_VERSION}:report
- name: jacocoMavenPublish
  version: 0.0.2
  description: Publishes Jacoco reports generated by the Jacoco Maven Plugin
  parameters:
  - name: jacocoProvider
    description: The provider to use to publish Jacoco reports
  script: |
    jx step collect --provider=${JACOCO_PROVIDER} --pattern=target/site/jacoco/jacoco.xml --classifier=jacoco
